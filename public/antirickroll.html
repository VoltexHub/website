<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rickroll Checker</title>
<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #111;
    color: #fff;
    padding: 40px 20px;
    display: flex;
    justify-content: center;
}
.section {
    max-width: 600px;
    width: 100%;
}
.card {
    background: #1d1d1d;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 0 10px rgba(0,0,0,0.4);
}
.input-field {
    width: 100%;
    padding: 12px 8px;
    border-radius: 8px;
    border: 1px solid #333;
    background: #1a1a1a;
    color: #fff;
    font-size: 16px;
    margin-bottom: 12px;
}
.input-field:focus {
    outline: none;
    border-color: #1a73e8;
    box-shadow: 0 0 10px rgba(26,95,180,0.5);
}
.enter-btn {
    width: 100%;
    padding: 12px;
    border-radius: 8px;
    border: none;
    background: #1a5fb4;
    color: #fff;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
}
.enter-btn:hover {
    background: #1a73e8;
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(26,95,180,0.5);
}
.inline-msg {
    font-size: 15px;
    margin-top: 10px;
}
.inline-msg.success { color: #55ff55; }
.inline-msg.error { color: #ff5555; }
</style>
</head>
<body>
<div class="section">
    <div class="card">
        <input type="text" class="input-field" id="urlInput" placeholder="Url" />
        <button class="enter-btn" id="scanBtn">Scan</button>
        <div id="feedback" class="inline-msg"></div>
        <div id="result" class="inline-msg"></div>
    </div>
</div>

<script>
const scanBtn = document.getElementById('scanBtn');
const urlInput = document.getElementById('urlInput');
const feedback = document.getElementById('feedback');
const result = document.getElementById('result');

const check = ["rick astley","never gonna give you up","rick roll"];
const api = "https://api.allorigins.win/get?url=";

function showFeedback(msg,type='success'){
    feedback.textContent = msg;
    feedback.className = 'inline-msg ' + (type==='success'?'success':'error');
}
function showResult(msg){
    result.textContent = msg;
}

async function scanURL(url){
    try{
        showFeedback("Scanning...");
        result.textContent = "";
        let fetchUrl = url;
        let useProxy = false;
        try {
            const response = await fetch(url);
            if(!response.ok) throw new Error("Direct fetch failed");
            const text = await response.text();
            const found = check.some(sign => text.toLowerCase().includes(sign));
            showResult(found ? "Rickroll detected" : "Safe");
            showFeedback("Scan complete", "success");
            return;
        } catch(e) {
            useProxy = true;
        }

        if(useProxy){
            const response = await fetch(api + encodeURIComponent(url));
            const data = await response.json();
            const text = data.contents;
            const found = check.some(sign => text.toLowerCase().includes(sign));
            showResult(found ? "Rickroll detected" : "Safe");
            showFeedback("Scan complete", "success");
        }

    } catch(e){
        showFeedback("Failed to fetch URL", "error");
        result.textContent = "";
    }
}

scanBtn.addEventListener('click', () => {
    const url = urlInput.value.trim();
    if(!url){
        showFeedback("Enter a URL", "error");
        result.textContent = "";
        return;
    }
    scanURL(url);
});
</script>
</body>
</html>
